<!-- Video Slider Section -->
<section class="w-full py-12 mb-4 bg-white">
  
  <!-- Container -->
  <div class="max-w-full sm:px-10 sm:max-w-7xl mx-auto">
    
    <!-- Header Section -->
    <div class="mb-10 sm:mb-12 text-center">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#101A4F] mt-2 mb-3 sm:mb-4">
       Winix India – Expert Reviews & Highlights
      </h2>
      <p class="text-sm sm:text-base text-[#101A4F]/70 max-w-2xl mx-auto leading-relaxed">
       Watch expert product reviews, 3D model showcases, AI videos, and official updates from Winix India.
      </p>
    </div>

    <!-- Slider -->
    <div class="relative flex items-center justify-center">
      
      <!-- Left Button -->
      <button 
        (click)="prev()"
        aria-label="Previous slide"
        class="absolute left-0 top-1/2 -translate-y-1/2 p-2.5 sm:p-3 bg-white border-2 border-[#101A4F]/20 hover:border-[#74226B] hover:bg-[#74226B]/10 rounded-full shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 z-20">
        <span class="text-lg sm:text-xl text-[#101A4F] hover:text-[#74226B] font-bold">←</span>
      </button>

      <!-- Slider Cards -->
      <div class="w-full overflow-hidden">
        <div class="flex gap-2 sm:gap-3 lg:gap-6 px-8 sm:px-12 lg:px-0 justify-center items-center">

          @for (v of visibleSlides; track $index) {
          <div
            class="flex-shrink-0 group rounded-2xl bg-white border-2 border-[#101A4F]/15 hover:border-[#74226B] overflow-hidden cursor-pointer transition-all duration-500 ease-out transform shadow-md hover:shadow-xl"
            [class.w-72]="$index === 1 && isDesktop"
            [class.w-56]="$index !== 1 && isDesktop"
            [class.h-80]="$index === 1 && isDesktop"
            [class.h-64]="$index !== 1 && isDesktop"
            [class.w-64]="!isDesktop && $index === 1"
            [class.w-40]="!isDesktop && $index !== 1"
            [class.h-72]="!isDesktop && $index === 1"
            [class.h-52]="!isDesktop && $index !== 1"
            [class.scale-100]="$index === 1"
            [class.scale-90]="$index !== 1"
            [class.opacity-100]="$index === 1"
            [class.opacity-60]="$index !== 1 && isDesktop"
            [class.opacity-40]="$index !== 1 && !isDesktop"
            (click)="openModal(v.id)">

            <!-- Thumbnail -->
            <div class="relative w-full h-full overflow-hidden bg-slate-100">
              <img 
                [src]="v.thumbnail"
                [alt]="v.title"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">

              <!-- Overlay -->
              <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500"></div>

              <!-- Tag Badge -->
              <div class="absolute top-3 left-3 px-2.5 py-1 bg-white rounded-full border border-[#101A4F]/20 shadow-sm">
                <span class="text-xs font-semibold text-[#74226B]">{{ v.tag }}</span>
              </div>

              <!-- Play Button -->
              <div class="absolute inset-0 flex items-center justify-center">
                <div
                  class="w-12 sm:w-14 lg:w-16 h-12 sm:h-14 lg:h-16 bg-white/90 rounded-full flex items-center justify-center shadow-lg border-2 border-white group-hover:scale-110 group-hover:bg-gradient-to-br group-hover:from-[#101A4F] group-hover:to-[#74226B] group-hover:border-white group-hover:text-white transition-all duration-500">
                  <span class="text-xl sm:text-2xl">▶</span>
                </div>
              </div>
            </div>

            <!-- Text Content -->
            @if ($index === 1 || !isDesktop) {
            <div class="p-4 sm:p-5">
              <h3 class="text-base sm:text-lg font-bold text-[#101A4F] mb-1.5 group-hover:text-[#74226B] transition-colors line-clamp-1">
                {{ v.title }}
              </h3>
              <p class="text-xs sm:text-sm text-[#101A4F]/70 line-clamp-2 mb-3">
                {{ v.description }}
              </p>

              <!-- CTA Button -->
              <button
                class="w-full py-2 px-3 text-xs sm:text-sm font-semibold rounded-lg bg-gradient-to-r from-[#101A4F] to-[#74226B] text-white hover:opacity-90 shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 active:scale-95">
                Watch Now
              </button>
            </div>
            }

          </div>
          }

        </div>
      </div>

      <!-- Right Button -->
      <button 
        (click)="next()"
        aria-label="Next slide"
        class="absolute right-0 top-1/2 -translate-y-1/2 p-2.5 sm:p-3 bg-white border-2 border-[#101A4F]/20 hover:border-[#74226B] hover:bg-[#74226B]/10 rounded-full shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-110 active:scale-95 z-20">
        <span class="text-lg sm:text-xl text-[#101A4F] hover:text-[#74226B] font-bold">→</span>
      </button>

    </div>

    <!-- Mobile Dots -->
    <div class="flex items-center justify-center gap-2 mt-8 sm:hidden">
      @for (v of videos; track $index) {
      <button 
        (click)="current = $index"
        class="h-2 rounded-full transition-all duration-500 cursor-pointer"
        [class.bg-gradient-to-r]="$index === current"
        [class.from-[#101A4F]]="$index === current"
        [class.to-[#74226B]]="$index === current"
        [class.w-6]="$index === current"
        [class.bg-[#101A4F]]="$index !== current"
        [class.w-2]="$index !== current">
      </button>
      }
    </div>

  </div>

</section>

<!-- Video Modal -->
@if (activeUrl) {
<div 
  class="fixed inset-0 bg-black/90 backdrop-blur-sm z-[9999] flex flex-col items-center justify-center px-4 py-4 sm:py-6"
  (click)="closeModal()">

  <!-- Video Player -->
  <div 
    class="relative w-full max-w-4xl aspect-video rounded-2xl overflow-hidden shadow-2xl border border-[#101A4F]/40"
    (click)="$event.stopPropagation()">

    <iframe
      class="w-full h-full"
      [src]="activeUrl"
      allow="autoplay; encrypted-media"
      allowfullscreen>
    </iframe>
  </div>

  <!-- Close Button -->
  <button
    (click)="closeModal()"
    class="mt-6 px-6 py-2.5 text-white bg-[#101A4F]/50 hover:bg-[#74226B]/60 backdrop-blur-md rounded-full border border-white/50 transition-all duration-300 font-semibold text-sm">
    ✕ Close
  </button>

</div>
}
